title("Ice Prism");
$Energy=0
cost(1)
types(ice, light)
trigger(onRetain, do(addVar(self,Energy, (count("Energy","Energy")))));
trigger(onRetain, do(setEnergy(0)));
trigger(onPlay, do(gainEnergy($Energy)));
trigger(onPlay, do(setVar(self, Energy, 0)))
text(While in hand , at the end of turn all excess energy is stored in this card. On play gain $Energy energy. Retain);
rarity(10)
modifiers(retain)
removetrigger(endofturn, true, 1)
image("res://Images/CardArt/IcePrism.png")

title("Permafrost");
types(earth, ice)
removetrigger(endofturn, true, 11)
text("When you would retain an unplayable card, trigger its on Draw effect and discard it")
trigger(retained, if((hasModifier( argv[0], unplayable)), (do(triggerCard(argv[0],"onDraw")))))
trigger(retained, if((hasModifier( argv[0], unplayable)), (do(discard(argv[0])))))
cost(1);
rarity(4);

title("Flash Freeze")
cost(1);
types(ice, fire);
trigger(onPlay,do(setVar(self,cardnumber,(count(Hand,any)))))
trigger(onPlay,foreach(Loopcard,(select(Hand, true,"-",all)),(do (addModifier($Loopcard, frozen)))))
trigger(onPlay,do(voided(self, Play)))
text(Freeze your hand. Burn.)
removetrigger(endofturn, true, 0)
rarity(6);

title("Icicle")
cost(2)
$Damage=8
$Range=3
trigger(onRetain,if(($Cost>0),(do(addVar(self,Cost,-1)))))
trigger(onPlay, do(damage, ($Damage,(ice),(any),$Range)));
text("Deal $Damage hail damage range $Range. On retain, lower the cost of this card by 1 until played. Retain")
removetrigger(endofturn, true, 1)
modifiers(retain)
types(ice, attack);
rarity(10);
image("res://Images/CardArt/Icicle.png")

title("Slide")
cost(0)
$Move=2
types(ice, kinetic, shadow, movement)
trigger(onPlay, do(movePlayer($Move)))
trigger(onRetain, do(moveUnits((all,(any),-Player),1,Player,away,(+, -1, $Move))))
text("Move $Move. If this card is frozen, when it is retained push all adjacent enemies away (+, -1, $Move) tiles")
removetrigger(endofturn, true, 1)
rarity(6);

title("Refrigerator")
cost(1)
types(ice, mechanical)
trigger(startofturn, do(addModifier( (select(Hand,true,"pick a card to freeze (Refrigerator)")),frozen)))
text("At the start of your turn, freeze a card")
removetrigger(endofturn, true, 7)
rarity(4)

title("Hailstorm!")
cost(1)
$Damage=2
$Range=40
$cardnumber=0
types(ice,  cloud, attack)
trigger(onPlay,do(setVar(self,cardnumber,(count(Hand,any)))))
trigger(onPlay,repeat((do(discard((do(cardAt(Hand,0),true))))),$cardnumber))
removetrigger(endofturn, true, 1)
trigger(onPlay, if( ($cardnumber>0),(repeat( (do(damage($Damage,(ice,storm),(all, (any), "-friendly"),$Range ))),$cardnumber))))
rarity(1)
text("Discard your hand, deal $Damage ice storm damage to all enemies for each card discarded")
