title("Detritovorous Flesh");
cost(1);
$Block=3
$Increment=3
trigger(onPlay,do(block($Block)));
trigger(death,do(addVar(self,Block,$Increment)));
rarity(2);
types(fungal, death);
text("Gain $Block block. When a unit dies while this is in play, increase its block by $Increment");
removetrigger(endofturn, true, 2);
image("res://Images/CardArt/DetritovorousFlesh.png");

title("Parasite");
cost(2);
types(fungal,attack)
$Damage=0
$Range=2
rarity(1)
trigger(addVar,if((argv[1]=Damage),(do(addVar,(self,Damage,argv[2]),true))))
trigger(onPlay, do(damage, ($Damage,(crush,fungal),(any),$Range),true))
text("Deal $Damage damage at a range of $Range .\nWhile this is in play, when a card permanently gains damage, this card does too")
removetrigger(endofturn,true,2);
modifiers(unique);
image("res://Images/CardArt/Parasite.png");

title(Infest);
cost(1);
types(fungal, attack);
$Damage=4
$Increment=4
$Range=2
rarity(3);
trigger(onPlay,do(damage, ($Damage,(fungal),(any),$Range)));
trigger(slay,do(addVar(self,Damage,$Increment)));
text("Deal $Damage fungal damage range $Range. Slay: increase this card's damage by $Increment");
removetrigger(endofturn,true,3);
image("res://Images/CardArt/Infest.png");

title(Overgrown Machinery)
cost(2)
types(fungal,mechanical,attack)
$Damage=0
$Increment=1
rarity(2)
$Range=1
trigger(onPlay,do(damage, ($Damage,(fungal),(all),$Range)));
trigger(startofturn,do(addVar(self,Damage,$Increment)));
text(Deal $Damage damage to all adjacent units. At the start of your turn, increase this cards damage by $Increment);
removetrigger(endofturn,true,6);
image("res://Images/CardArt/OvergrownMachinery.png");

title(Ubiquitous Growth);
cost(1);
types(fungal)
$Increment=2
text("Add $Increment damage to all attacks in play. On remove from play, subtract $Increment damage from all attacks in play")
trigger(onPlay,foreach(Card,(select(Play,(hasVariable(self,Damage)),"-",all)),(do(addVar($Card,Damage,$Increment)))))
trigger(onRemoveFromPlay,foreach(Card,(select(Play,(hasVariable(self,Damage)),"-",all)),(do(addVar($Card,Damage,(*,-1,$Increment))))))
removetrigger(endofturn,true,3);
rarity(4)
image("res://Images/CardArt/UbiquitousGrowth.png");

title("Bioluminescence");
cost(2);
$Increment=1
$Energy=0
$Maximum=7
trigger(onPlay,do(gainEnergy($Energy)))
trigger(onPlay, if(($Energy<$Maximum),(do(addVar(self, Energy,$Increment)))));
text("Gain $Energy energy. If this card's energy gain is less than $Maximum, increase it by by $Increment")
removetrigger(endofturn,true,2);
types(light,fungal)
rarity(6)
image("res://Images/CardArt/Bioluminescence.png");

title("Mycorhizome");
cost(1);
$Increment=1
$Heal=1
types(fungal, earth, food);
trigger(onPlay, do(heal($Heal)));
removetrigger(endofturn, true, 4);
trigger(cardDrawn,if((hasModifier(argv[0],unplayable)),(do(addVar(self,Heal,$Increment)))));
text("Heal $Heal . While in play, when you draw an unplayable card increase this card heal by $Increment");
rarity(2);
image("res://Images/CardArt/Mycorhizome.png");

title("Pore Fungus");
cost(1)
$Increment=1
$Strength=5
$MaxHealth=5
$Range=2
$dothething=0
types(fungal,summon)
trigger(onPlay, do(setVar(self,dothething,1)))
trigger(onPlay, if( (do(hasProperty((do(selectTiles((all,(any),"name:Pore Fungus"),40,Player))), "name:Pore Fungus"))),(do(setVar(self, dothething,0)))))
trigger(onPlay, if( ($dothething>0),(do(summon("Pore Fungus",(any),$Range)))))
trigger(onPlay, if( ($dothething>0),(do(addStatus(maxHealth,$MaxHealth, (do(selectTiles( (all,(any),"name:Pore Fungus"),40,Player))))))));
trigger(onPlay, if( ($dothething>0),(do(addStatus(strength,$Strength, (do(selectTiles( (all,(any),"name:Pore Fungus"),40,Player))))))));
trigger(onPlay, if( ($dothething>0),(do(addVar(self, Strength,$Increment)))))
trigger(onPlay, if( ($dothething>0),(do(addVar(self, MaxHealth,(+,1,$Increment))))))
text("If there is no Pore Fungus alive, summon one with (+,1,$Strength) strength and (+,1,$MaxHealth) health, then add  $Increment strength and (+,1,$Increment) health to this card.")
removetrigger(endofturn, true, 1)
rarity(2)
image("res://Images/CardArt/PoreFungus.png");

title("Death Cap");
cost(1)
$Status=0
$Count=4
$currentCount=0
$Increment=1
trigger(onPlay,do(addStatus(stealth,$Status)))
trigger(onPlay,do(addVar(self,currentCount,1)))
trigger(onPlay,if(($currentCount=$Count),(do(addVar(self,Status,$Increment)))))
trigger(onPlay,if(($currentCount=$Count),(do(setVar(self,currentCount,0)))))
types(fungal, assassin)
removetrigger(endofturn,true,2)
text("Gain $Status stealth. Every $Count times you play this add $Increment stealth to it. (+, $Count, (*,-1,$currentCount)) remaining.");
rarity(1);

